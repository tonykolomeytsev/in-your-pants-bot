# InYourPantsBot (Remastered)
### Бот в твоих штанах

Простой бот-абьюзер для бесед Вконтакте на Kotlin и Ktor.

VK: [@inyourpantsbot](https://vk.com/inyourpantsbot)

### Инструкция по добавлению в беседу

Оригинальная инструкция [здесь](https://vk.com/dev/bots_docs?f=1.2.%20Добавление%20ботов%20в%20беседы).

Перейдите в группу бота ВК: [@inyourpantsbot](https://vk.com/inyourpantsbot) и нажмите кнопку «Пригласить в беседу» в меню группы.

У бота в беседе есть три уровня доступа:

#### 1. Только упоминания

Этот уровень доступа выдается сразу после добавления в беседу. Бот может:
- видеть все сообщения, которые его касаются. Это упоминания бота и ответы на его сообщения
- отправлять сообщения в беседу

#### 2. Доступ ко всей переписке (Рекомендуется)
Выдать его может любой администратор беседы. Бот может:
- видеть все сообщения в беседе
- отправлять сообщения в беседу

#### 3. Администратор (Не рекомендуется)
Выдать его может только создатель беседы. Бот может:
- видеть все сообщения в беседе
- отправлять сообщения в беседу
- Получать объект беседы
- Получать участников беседы

Для корректной работы бота вам нужно выставить ему второй уровень доступа (в настройках беседы).

### Техническая сторона проекта
Бот написан на коленке воскресным вечером, кода не очень много. Весь код написан на **Kotlin** с использованием фреймворка **Ktor**.

Для сборки проекта используется **Gradle**, для превращения проекта в супер-пупер легковесный образ Docker используется плагин **jib**, который автоматически загружает образ на указанный в `build.gradle.kts` адрес Docker Hub.

**Для сборки проекта** не требуется НИКАКИХ дополнительных действий, кроме как клонирования проекта себе на компуктер и запуска `./gradlew build`.

**Для сборки Docker образа** нужно создать в корне проекта файлик `credentials`:

```
docker_hub_username/my_image_name:version
docker_hub_username
docker_hub_password
```

И тогда для сборки + отправки образа нужно будет запустить Gradle таск `jib`:

```bash
./gradlew jib
```

